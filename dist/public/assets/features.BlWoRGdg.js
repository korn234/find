import{r as c,u as je,a as ve,b as ye,j as e,R as Oe,M as Ne,C as De,X as $e,H as Re,c as ze,d as be,e as Ue,S as Le,E as qe,T as pe,I as Ve,f as Ke,g as Be,h as Fe,i as Qe,L as Ye}from"./react-vendor.BSLGpqS4.js";import{B as N,a as He,L as H,T as Xe,I as ue,S as Je,b as We,c as Ge,d as Ze,e as et}from"./ui.oFdvSbh5.js";import{c as tt,z as u,t as st}from"./form-vendor.BjvYAjzb.js";import{Q as at,p as ne,s as ie,t as g,b as he,a as W,i as se,u as rt}from"./vendor.wij3XRaR.js";async function Se(t){if(!t.ok){const n=await t.text()||t.statusText;throw new Error(`${t.status}: ${n}`)}}async function ae(t,n,i){const r=localStorage.getItem("auth_token"),x={};i&&(x["Content-Type"]="application/json"),r&&(x.Authorization=`Bearer ${r}`);const v=await fetch(n,{method:t,headers:x,body:i?JSON.stringify(i):void 0,credentials:"include"});return await Se(v),v}const xe=({on401:t})=>async({queryKey:n})=>{const i=localStorage.getItem("auth_token"),r={};i&&(r.Authorization=`Bearer ${i}`);const x=await fetch(n[0],{headers:r,credentials:"include"});return t==="returnNull"&&x.status===401?null:(await Se(x),await x.json())},X=new at({defaultOptions:{queries:{queryFn:xe({on401:"throw"}),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:!0,refetchOnMount:!1,retry:(t,n)=>n?.message?.includes("4")&&!n?.message?.includes("408")&&!n?.message?.includes("429")?!1:t<2,retryDelay:t=>Math.min(1e3*2**t,3e4)},mutations:{retry:(t,n)=>n?.message?.includes("4")?!1:t<1,onMutate:()=>{}}}}),yt={matches:()=>X.invalidateQueries({queryKey:["/api/matches"]}),messages:t=>t?X.invalidateQueries({queryKey:["/api/messages",t]}):X.invalidateQueries({queryKey:["/api/messages"]}),potentialMatches:()=>X.invalidateQueries({queryKey:["/api/potential-matches"]}),user:()=>X.invalidateQueries({queryKey:["/api/me"]})},nt=1,it=1e6;let ce=0;function ot(){return ce=(ce+1)%Number.MAX_SAFE_INTEGER,ce.toString()}const de=new Map,we=t=>{if(de.has(t))return;const n=setTimeout(()=>{de.delete(t),J({type:"REMOVE_TOAST",toastId:t})},it);de.set(t,n)},lt=(t,n)=>{switch(n.type){case"ADD_TOAST":return{...t,toasts:[n.toast,...t.toasts].slice(0,nt)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(i=>i.id===n.toast.id?{...i,...n.toast}:i)};case"DISMISS_TOAST":{const{toastId:i}=n;return i?we(i):t.toasts.forEach(r=>{we(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===i||i===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return n.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==n.toastId)}}},ee=[];let te={toasts:[]};function J(t){te=lt(te,t),ee.forEach(n=>{n(te)})}function ct({...t}){const n=ot(),i=x=>J({type:"UPDATE_TOAST",toast:{...x,id:n}}),r=()=>J({type:"DISMISS_TOAST",toastId:n});return J({type:"ADD_TOAST",toast:{...t,id:n,open:!0,onOpenChange:x=>{x||r()}}}),{id:n,dismiss:r,update:i}}function fe(){const[t,n]=c.useState(te);return c.useEffect(()=>(ee.push(n),()=>{const i=ee.indexOf(n);i>-1&&ee.splice(i,1)}),[t]),{...t,toast:ct,dismiss:i=>J({type:"DISMISS_TOAST",toastId:i})}}const re=ne("users",{id:ie("id").primaryKey(),nickname:g("nickname").notNull().unique(),age:g("age").notNull(),instagram:g("instagram"),password:g("password").notNull(),bio:g("bio"),interests:g("interests").array(),hobbies:g("hobbies"),profileImage:g("profile_image"),province:g("province"),school:g("school"),profileCompleted:he("profile_completed").default(!1),isActive:he("is_active").default(!0),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});ne("schools",{id:ie("id").primaryKey(),name:g("name").notNull(),province:g("province").notNull(),address:g("address"),googlePlaceId:g("google_place_id"),createdAt:W("created_at").defaultNow()});const dt=ne("matches",{id:ie("id").primaryKey(),userId1:se("user_id_1").notNull().references(()=>re.id),userId2:se("user_id_2").notNull().references(()=>re.id),status:g("status").notNull().default("pending"),createdAt:W("created_at").defaultNow()});ne("messages",{id:ie("id").primaryKey(),matchId:se("match_id").notNull().references(()=>dt.id),senderId:se("sender_id").notNull().references(()=>re.id),content:g("content").notNull(),messageType:g("message_type").notNull().default("text"),imageUrl:g("image_url"),isRead:he("is_read").default(!1),createdAt:W("created_at").defaultNow()});const mt=tt(re).omit({id:!0}),Nt=u.object({nickname:u.string().min(1,"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô"),password:u.string().min(1,"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô")}),St=mt.extend({confirmPassword:u.string().min(6,"‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 6 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£")}).refine(t=>t.password===t.confirmPassword,{message:"‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô",path:["confirmPassword"]}),kt=u.object({profileImage:u.string().optional(),nickname:u.string().min(1,"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô"),age:u.string().min(1,"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á‡∏≠‡∏≤‡∏¢‡∏∏"),instagram:u.string().optional(),bio:u.string().optional().refine(t=>!t||t.length>=10,{message:"‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 10 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£"}).refine(t=>!t||t.length<=200,{message:"‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ï‡∏±‡∏ß‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 200 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£"}),interests:u.array(u.string()).optional(),hobbies:u.string().optional().refine(t=>!t||t.length>=5,{message:"‡∏á‡∏≤‡∏ô‡∏≠‡∏î‡∏¥‡πÄ‡∏£‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 5 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£"}),province:u.string().optional(),school:u.string().optional(),currentPassword:u.string().optional(),newPassword:u.string().optional(),confirmNewPassword:u.string().optional()}).refine(t=>t.newPassword&&t.newPassword.length>0?!t.currentPassword||t.currentPassword.length<1||t.newPassword.length<6?!1:t.newPassword===t.confirmNewPassword:!0,{message:"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô ‡πÅ‡∏•‡∏∞‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 6 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£",path:["confirmNewPassword"]}),ut=u.object({bio:u.string().min(10,"‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 10 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£").max(200,"‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ï‡∏±‡∏ß‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 200 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£"),interests:u.array(u.string()).min(1,"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏≠‡∏ö‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏≠‡∏¢‡πà‡∏≤‡∏á"),hobbies:u.string().min(5,"‡∏á‡∏≤‡∏ô‡∏≠‡∏î‡∏¥‡πÄ‡∏£‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 5 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£"),profileImage:u.string().min(1,"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û"),province:u.string().min(1,"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î"),school:u.string().min(1,"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô")});u.object({query:u.string().min(1,"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô"),province:u.string().optional()});const me="auth_token",z={getToken:()=>localStorage.getItem(me),setToken:t=>{localStorage.setItem(me,t)},removeToken:()=>{localStorage.removeItem(me)},isAuthenticated:()=>!!z.getToken(),login:async t=>{const i=await(await ae("POST","/api/login",t)).json();return z.setToken(i.token),i},register:async t=>{const i=await(await ae("POST","/api/register",t)).json();return z.setToken(i.token),i},logout:()=>{z.removeToken(),window.location.href="/login"},getCurrentUser:async()=>{const t=z.getToken();if(!t)throw new Error("No token found");const n=await fetch("/api/me",{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("Failed to fetch user");return n.json()}};function ke(){const{data:t,isLoading:n,error:i}=je({queryKey:["/api/me"],queryFn:xe({on401:"returnNull"}),enabled:z.isAuthenticated(),retry:!1});return{user:t,isLoading:n,isAuthenticated:z.isAuthenticated(),error:i}}const ht=["‡∏ä‡∏≤‡∏ô‡∏°‡πÑ‡∏Ç‡πà‡∏°‡∏∏‡∏Å","‡∏Å‡∏≤‡πÅ‡∏ü","‡∏î‡∏ô‡∏ï‡∏£‡∏µ","‡∏†‡∏≤‡∏û‡∏¢‡∏ô‡∏ï‡∏£‡πå","‡∏≠‡∏≤‡∏´‡∏≤‡∏£","‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß","‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢","‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠","‡πÄ‡∏Å‡∏°","‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ","‡∏ä‡πâ‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á","‡∏ó‡∏≥‡∏≠‡∏≤‡∏´‡∏≤‡∏£","‡∏®‡∏¥‡∏•‡∏õ‡∏∞","‡∏Å‡∏µ‡∏¨‡∏≤","‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô","‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ"],xt=["‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£","‡∏Å‡∏£‡∏∞‡∏ö‡∏µ‡πà","‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏ö‡∏∏‡∏£‡∏µ","‡∏Å‡∏≤‡∏¨‡∏™‡∏¥‡∏ô‡∏ò‡∏∏‡πå","‡∏Å‡∏≥‡πÅ‡∏û‡∏á‡πÄ‡∏û‡∏ä‡∏£","‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô","‡∏à‡∏±‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ","‡∏â‡∏∞‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏ó‡∏£‡∏≤","‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ","‡∏ä‡∏±‡∏¢‡∏ô‡∏≤‡∏ó","‡∏ä‡∏±‡∏¢‡∏†‡∏π‡∏°‡∏¥","‡∏ä‡∏∏‡∏°‡∏û‡∏£","‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢","‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà","‡∏ï‡∏£‡∏±‡∏á","‡∏ï‡∏£‡∏≤‡∏î","‡∏ï‡∏≤‡∏Å","‡∏ô‡∏Ñ‡∏£‡∏ô‡∏≤‡∏¢‡∏Å","‡∏ô‡∏Ñ‡∏£‡∏õ‡∏ê‡∏°","‡∏ô‡∏Ñ‡∏£‡∏û‡∏ô‡∏°","‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤","‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä","‡∏ô‡∏Ñ‡∏£‡∏™‡∏ß‡∏£‡∏£‡∏Ñ‡πå","‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ","‡∏ô‡∏£‡∏≤‡∏ò‡∏¥‡∏ß‡∏≤‡∏™","‡∏ô‡πà‡∏≤‡∏ô","‡∏ö‡∏∂‡∏á‡∏Å‡∏≤‡∏¨","‡∏ö‡∏∏‡∏£‡∏µ‡∏£‡∏±‡∏°‡∏¢‡πå","‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ","‡∏õ‡∏£‡∏∞‡∏à‡∏ß‡∏ö‡∏Ñ‡∏µ‡∏£‡∏µ‡∏Ç‡∏±‡∏ô‡∏ò‡πå","‡∏õ‡∏£‡∏≤‡∏à‡∏µ‡∏ô‡∏ö‡∏∏‡∏£‡∏µ","‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ","‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤","‡∏û‡∏±‡∏á‡∏á‡∏≤","‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á","‡∏û‡∏¥‡∏à‡∏¥‡∏ï‡∏£","‡∏û‡∏¥‡∏©‡∏ì‡∏∏‡πÇ‡∏•‡∏Å","‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏∏‡∏£‡∏µ","‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏π‡∏£‡∏ì‡πå","‡πÅ‡∏û‡∏£‡πà","‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï","‡∏°‡∏´‡∏≤‡∏™‡∏≤‡∏£‡∏Ñ‡∏≤‡∏°","‡∏°‡∏∏‡∏Å‡∏î‡∏≤‡∏´‡∏≤‡∏£","‡πÅ‡∏°‡πà‡∏Æ‡πà‡∏≠‡∏á‡∏™‡∏≠‡∏ô","‡∏¢‡πÇ‡∏™‡∏ò‡∏£","‡∏¢‡∏∞‡∏•‡∏≤","‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡∏≠‡πá‡∏î","‡∏£‡∏∞‡∏ô‡∏≠‡∏á","‡∏£‡∏∞‡∏¢‡∏≠‡∏á","‡∏£‡∏≤‡∏ä‡∏ö‡∏∏‡∏£‡∏µ","‡∏•‡∏û‡∏ö‡∏∏‡∏£‡∏µ","‡∏•‡∏≥‡∏õ‡∏≤‡∏á","‡∏•‡∏≥‡∏û‡∏π‡∏ô","‡πÄ‡∏•‡∏¢","‡∏®‡∏£‡∏µ‡∏™‡∏∞‡πÄ‡∏Å‡∏©","‡∏™‡∏Å‡∏•‡∏ô‡∏Ñ‡∏£","‡∏™‡∏á‡∏Ç‡∏•‡∏≤","‡∏™‡∏ï‡∏π‡∏•","‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£","‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏≤‡∏Ñ‡∏£","‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°","‡∏™‡∏£‡∏∞‡πÅ‡∏Å‡πâ‡∏ß","‡∏™‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏µ","‡∏™‡∏¥‡∏á‡∏´‡πå‡∏ö‡∏∏‡∏£‡∏µ","‡∏™‡∏∏‡πÇ‡∏Ç‡∏ó‡∏±‡∏¢","‡∏™‡∏∏‡∏û‡∏£‡∏£‡∏ì‡∏ö‡∏∏‡∏£‡∏µ","‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ","‡∏™‡∏∏‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå","‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡∏≤‡∏¢","‡∏´‡∏ô‡∏≠‡∏á‡∏ö‡∏±‡∏ß‡∏•‡∏≥‡∏†‡∏π","‡∏≠‡πà‡∏≤‡∏á‡∏ó‡∏≠‡∏á","‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡πÄ‡∏à‡∏£‡∏¥‡∏ç","‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ","‡∏≠‡∏∏‡∏ï‡∏£‡∏î‡∏¥‡∏ï‡∏ñ‡πå","‡∏≠‡∏∏‡∏ó‡∏±‡∏¢‡∏ò‡∏≤‡∏ô‡∏µ","‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ"];function ft({user:t,onComplete:n}){const{toast:i}=fe(),[r,x]=c.useState([]),[v,O]=c.useState(""),[E,D]=c.useState(""),T=(()=>{const s=localStorage.getItem(`profile_draft_${t?.id}`);if(s)try{return JSON.parse(s)}catch{}return{profileImage:"",bio:"",interests:[],hobbies:"",province:"",school:""}})(),d=ze({resolver:st(ut),defaultValues:T});c.useEffect(()=>{x(T.interests||[]),O(T.profileImage||""),D(T.province||"")},[]);const C=s=>{const S={...d.getValues(),...s};localStorage.setItem(`profile_draft_${t?.id}`,JSON.stringify(S))},b=s=>{const w=s.target.files?.[0];if(w){const S=new FileReader;S.onload=L=>{const P=L.target?.result;O(P),d.setValue("profileImage",P),C({profileImage:P})},S.readAsDataURL(w)}},A=s=>{const w=r.includes(s)?r.filter(S=>S!==s):[...r,s];x(w),d.setValue("interests",w),C({interests:w})},R=ye({mutationFn:async s=>(await ae("POST","/api/profile-setup",s)).json(),onSuccess:()=>{i({title:"‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à",description:"‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏Å‡∏±‡∏ô‡πÄ‡∏ñ‡∏≠‡∏∞!"}),localStorage.removeItem(`profile_draft_${t?.id}`),n()},onError:s=>{i({title:"‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à",description:s.message||"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î",variant:"destructive"})}}),U=s=>{D(s),d.setValue("province",s),C({province:s})},K=s=>{R.mutate(s,{onSuccess:()=>{window.location.reload()}})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 p-4",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8 animate-in slide-in-from-top duration-500",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üëã"}),e.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:["‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ ",t?.nickname,"!"]}),e.jsx("p",{className:"text-gray-600",children:"‡∏°‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏Å‡∏±‡∏ô"})]}),e.jsxs("form",{onSubmit:d.handleSubmit(K),className:"space-y-6",children:[e.jsxs("div",{className:"animate-in slide-in-from-bottom duration-700",children:[e.jsxs(H,{className:"text-base font-medium text-gray-700 mb-3 block flex items-center gap-2",children:[e.jsx(be,{className:"w-4 h-4"}),"‡∏£‡∏π‡∏õ‡∏ö‡∏±‡∏ï‡∏£‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå"]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("label",{className:"relative cursor-pointer group",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:b,className:"hidden"}),v?e.jsxs("div",{className:"relative w-48 h-64 rounded-2xl overflow-hidden border-4 border-amber-200 group-hover:border-amber-300 transition-colors shadow-lg",children:[e.jsx("img",{src:v,alt:"Preview",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}):e.jsxs("div",{className:"w-48 h-64 rounded-2xl bg-gradient-to-br from-amber-100 to-orange-200 border-4 border-amber-200 group-hover:border-amber-300 transition-colors flex flex-col items-center justify-center shadow-lg",children:[e.jsx(be,{className:"w-12 h-12 text-amber-600 mb-3"}),e.jsx("span",{className:"text-amber-700 text-sm font-medium",children:"‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ‡∏ö‡∏±‡∏ï‡∏£"}),e.jsx("span",{className:"text-amber-600 text-xs mt-1",children:"‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏´‡πá‡∏ô"})]})]})}),d.formState.errors.profileImage&&e.jsx("p",{className:"mt-2 text-sm text-red-600 text-center",children:d.formState.errors.profileImage.message})]}),e.jsxs("div",{className:"animate-in slide-in-from-bottom duration-700 delay-100",children:[e.jsx(H,{className:"text-base font-medium text-gray-700 mb-3 block",children:"‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ï‡∏±‡∏ß"}),e.jsx(Xe,{...d.register("bio"),placeholder:"‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏Ñ‡∏∏‡∏ì‡∏™‡∏±‡∏Å‡∏´‡∏ô‡πà‡∏≠‡∏¢...",className:"min-h-20 resize-none border-2 border-gray-200 focus:border-amber-300 transition-colors",onChange:s=>{d.setValue("bio",s.target.value),C({bio:s.target.value})}}),d.formState.errors.bio&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.formState.errors.bio.message})]}),e.jsxs("div",{className:"animate-in slide-in-from-bottom duration-700 delay-200",children:[e.jsx(H,{className:"text-base font-medium text-gray-700 mb-3 block",children:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏≠‡∏ö"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:ht.map(s=>e.jsx("button",{type:"button",onClick:()=>A(s),className:`p-3 rounded-xl text-sm font-medium transition-all duration-300 ${r.includes(s)?"bg-amber-300 text-amber-900 transform scale-105":"bg-white text-gray-700 hover:bg-amber-50 hover:scale-102"}`,children:s},s))}),d.formState.errors.interests&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.formState.errors.interests.message})]}),e.jsxs("div",{className:"animate-in slide-in-from-bottom duration-700 delay-300",children:[e.jsx(H,{className:"text-base font-medium text-gray-700 mb-3 block",children:"‡∏á‡∏≤‡∏ô‡∏≠‡∏î‡∏¥‡πÄ‡∏£‡∏Å"}),e.jsx(ue,{...d.register("hobbies"),placeholder:"‡πÄ‡∏•‡πà‡∏ô‡∏Å‡∏µ‡∏ï‡πâ‡∏≤‡∏£‡πå ‡∏ü‡∏±‡∏á‡πÄ‡∏û‡∏•‡∏á ‡∏ß‡∏≤‡∏î‡∏£‡∏π‡∏õ...",className:"border-2 border-gray-200 focus:border-amber-300 transition-colors",onChange:s=>{d.setValue("hobbies",s.target.value),C({hobbies:s.target.value})}}),d.formState.errors.hobbies&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.formState.errors.hobbies.message})]}),e.jsxs("div",{className:"animate-in slide-in-from-bottom duration-700 delay-400",children:[e.jsxs(H,{className:"text-base font-medium text-gray-700 mb-3 block flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4"}),"‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î"]}),e.jsxs(Je,{onValueChange:U,value:E,children:[e.jsx(We,{className:"border-2 border-gray-200 focus:border-amber-300 transition-colors",children:e.jsx(Ge,{placeholder:"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î"})}),e.jsx(Ze,{className:"max-h-60",children:xt.map(s=>e.jsx(et,{value:s,children:s},s))})]}),d.formState.errors.province&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.formState.errors.province.message})]}),e.jsxs("div",{className:"animate-in slide-in-from-bottom duration-700 delay-500",children:[e.jsxs(H,{className:"text-base font-medium text-gray-700 mb-3 block flex items-center gap-2",children:[e.jsx(Le,{className:"w-4 h-4"}),"‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô"]}),e.jsx(ue,{...d.register("school"),placeholder:"‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì...",className:"border-2 border-gray-200 focus:border-amber-300 transition-colors",onChange:s=>{d.setValue("school",s.target.value),C({school:s.target.value})}}),d.formState.errors.school&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.formState.errors.school.message})]}),e.jsx("div",{className:"animate-in slide-in-from-bottom duration-700 delay-600",children:e.jsx(N,{type:"submit",disabled:R.isPending,className:"w-full bg-gradient-to-r from-amber-400 to-orange-500 hover:from-amber-500 hover:to-orange-600 text-white py-4 rounded-xl text-lg font-semibold transform hover:scale-105 transition-all duration-300 shadow-lg",children:R.isPending?"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå...":"‚ú® ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô"})})]})]})})}function Tt(){const{user:t}=ke(),{toast:n}=fe(),i=ve(),[r,x]=c.useState(0),[v,O]=c.useState(!1),[E,D]=c.useState({x:0,y:0}),[$,T]=c.useState(0),[d,C]=c.useState(!0),b=c.useRef(null),{data:A=[],isLoading:R,refetch:U}=je({queryKey:["/api/potential-matches"],queryFn:xe({on401:"throw"}),enabled:!!t}),K=ye({mutationFn:async o=>(await ae("POST","/api/match",{targetUserId:o})).json(),onSuccess:o=>{n({title:"‡πÅ‡∏°‡∏ó‡∏ä‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! üéâ",description:"‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏ä‡∏ó‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß"}),i.invalidateQueries({queryKey:["/api/matches"]}),window.dispatchEvent(new CustomEvent("matchCreated"))},onError:o=>{n({title:"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏°‡∏ó‡∏ä‡πå‡πÑ‡∏î‡πâ",description:o.message||"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î",variant:"destructive"})}});if(c.useEffect(()=>{const o=setTimeout(()=>{C(!1)},3e3);return()=>clearTimeout(o)},[]),!t?.profileCompleted)return e.jsx(ft,{user:t,onComplete:()=>U()});if(R)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà..."})]})});if(A.length===0||r>=A.length)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center bg-white rounded-3xl p-8 shadow-lg max-w-sm",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üîç"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"‡∏•‡∏≠‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏î‡∏π‡πÉ‡∏´‡∏°‡πà‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏ß‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ"}),e.jsx(N,{onClick:()=>{i.invalidateQueries({queryKey:["/api/potential-matches"]}),U()},className:"btn-primary",children:"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á"})]})});const s=A[r],w=o=>"touches"in o?{x:o.touches[0].clientX,y:o.touches[0].clientY}:{x:o.clientX,y:o.clientY},S=()=>{b.current&&(b.current.style.transform="translateX(0) translateY(0) rotate(0deg)",b.current.style.opacity="1"),D({x:0,y:0}),T(0)},L=o=>{"button"in o&&o.preventDefault(),O(!0),w(o)},P=o=>{if(!v)return;"button"in o&&o.preventDefault();const k=b.current?.getBoundingClientRect();if(!k)return;const V=w(o),G=k.left+k.width/2,oe=k.top+k.height/2,p=V.x-G,Q=V.y-oe;D({x:p,y:Q}),T(p*.1),b.current&&(b.current.style.transform=`translateX(${p}px) translateY(${Q}px) rotate(${p*.1}deg)`)},B=()=>{if(!v)return;O(!1);const o=100;E.x>o?F():E.y>o?q():S()},F=()=>{K.mutate(s.id),b.current&&(b.current.style.transform="translateX(100vw) rotate(30deg)",b.current.style.opacity="0"),setTimeout(()=>{x(o=>o+1),S()},300)},q=()=>{b.current&&(b.current.style.transform="translateY(100vh)",b.current.style.opacity="0"),setTimeout(()=>{x(o=>o+1),S()},300)};return e.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 overflow-hidden",children:[e.jsxs("div",{className:"relative z-20 flex justify-between items-center p-4 bg-white/80 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-amber-400 to-orange-500 rounded-full animate-pulse"}),e.jsx("span",{className:"font-semibold text-gray-800",children:"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(N,{variant:"ghost",size:"sm",onClick:()=>U(),className:"text-gray-600 hover:text-amber-600",children:e.jsx(Oe,{className:"w-5 h-5"})})})]}),d&&e.jsxs("div",{className:"absolute inset-0 z-30 pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/2 left-8 transform -translate-y-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm animate-bounce",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{children:"‡∏õ‡∏±‡∏î‡∏Ç‡∏ß‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏ä‡∏ó"})]})}),e.jsx("div",{className:"absolute bottom-32 left-1/2 transform -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm animate-bounce delay-300",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{className:"w-4 h-4"}),e.jsx("span",{children:"‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏•‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏Ñ‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ"})]})})]}),e.jsx("div",{className:"absolute inset-4 flex items-center justify-center",children:e.jsxs("div",{ref:b,className:"relative w-full max-w-md h-full max-h-[700px] bg-white rounded-3xl shadow-2xl overflow-hidden cursor-grab active:cursor-grabbing transform-gpu transition-transform duration-300 ease-out",onMouseDown:L,onMouseMove:P,onMouseUp:B,onMouseLeave:B,onTouchStart:L,onTouchMove:P,onTouchEnd:B,children:[e.jsx("div",{className:`absolute top-8 left-8 z-10 px-4 py-2 rounded-full font-bold text-xl transform transition-all duration-300 ${E.x>50?"scale-110 opacity-100":"scale-75 opacity-0"} bg-green-500 text-white shadow-lg`,children:"LIKE ‚ù§Ô∏è"}),e.jsx("div",{className:`absolute top-8 right-8 z-10 px-4 py-2 rounded-full font-bold text-xl transform transition-all duration-300 ${E.y>50?"scale-110 opacity-100":"scale-75 opacity-0"} bg-red-500 text-white shadow-lg`,children:"PASS ‚úã"}),e.jsxs("div",{className:"relative h-3/5 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 rounded-3xl overflow-hidden",children:[s.profileImage?e.jsx("img",{src:s.profileImage,alt:s.nickname,className:"w-full h-full object-cover",draggable:!1}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-amber-200 to-orange-300 flex items-center justify-center",children:e.jsx("div",{className:"text-6xl text-white",children:"üë§"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h2",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[s.nickname,e.jsx("span",{className:"text-lg bg-white/20 px-3 py-1 rounded-full backdrop-blur-sm",children:s.age})]}),s.bio&&e.jsx("p",{className:"text-base text-white/90 leading-relaxed mb-4",children:s.bio})]}),s.interests&&s.interests.length>0&&e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.interests.map((o,k)=>e.jsx(He,{variant:"secondary",className:"bg-white/20 text-white border-white/30 hover:bg-white/30 transition-colors",children:o},k))})}),e.jsxs("div",{className:"text-sm text-white/80 space-y-1",children:[s.hobbies&&e.jsxs("p",{children:["üéØ ",s.hobbies]}),s.province&&e.jsxs("p",{children:["üìç ",s.province]}),s.school&&e.jsxs("p",{children:["üè´ ",s.school]}),s.instagram&&e.jsxs("p",{children:["üì∏ ",s.instagram]})]})]})]}),e.jsx("div",{className:"h-2/5 p-6 bg-white overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[s.bio&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏â‡∏±‡∏ô"}),e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:s.bio})]}),s.interests&&s.interests.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏≠‡∏ö"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.interests.map((o,k)=>e.jsx("span",{className:"px-3 py-1 bg-amber-100 text-amber-800 text-xs rounded-full",children:o},k))})]}),s.hobbies&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"‡∏á‡∏≤‡∏ô‡∏≠‡∏î‡∏¥‡πÄ‡∏£‡∏Å"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.hobbies})]})]})})]})}),e.jsxs("div",{className:"absolute bottom-8 left-0 right-0 flex justify-center space-x-12 px-4",children:[e.jsx(N,{onClick:q,className:"w-16 h-16 rounded-full bg-white border-2 border-red-200 text-red-500 hover:bg-red-50 hover:border-red-300 hover:scale-110 transform transition-all duration-300 shadow-lg",children:e.jsx($e,{className:"w-8 h-8"})}),e.jsx(N,{onClick:F,className:"w-16 h-16 rounded-full bg-gradient-to-r from-pink-400 to-red-400 text-white hover:from-pink-500 hover:to-red-500 hover:scale-110 transform transition-all duration-300 shadow-lg",children:e.jsx(Re,{className:"w-8 h-8"})})]}),e.jsxs("div",{className:"absolute top-4 right-4 px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full text-sm text-gray-600",children:[r+1," / ",A.length]})]})}function Ct(){const{user:t}=ke();ve();const[n,i]=c.useState([]),[r,x]=c.useState(null),[v,O]=c.useState(""),[E,D]=c.useState(!0),[$,T]=c.useState(!1),[d,C]=c.useState(null),[b,A]=c.useState(!1),[R,U]=c.useState(Date.now()),[K,s]=c.useState(!1),[w,S]=c.useState(!1);c.useState(!1);const[L,P]=c.useState("list"),B=c.useRef(),F=c.useRef(null),q=c.useRef(null),{toast:o}=fe(),[k,V]=c.useState(new Map),G=c.useCallback(a=>{const l=new Date(a),h=new Date,m=Math.floor((h.getTime()-l.getTime())/(1e3*60));return m<1?"‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà":m<60?`${m} ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß`:m<1440?`${Math.floor(m/60)} ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß`:m<10080?`${Math.floor(m/1440)} ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß`:l.toLocaleDateString("th-TH",{day:"numeric",month:"short",year:l.getFullYear()!==h.getFullYear()?"numeric":void 0})},[]),oe=c.useCallback(a=>{if(a){const l=a.startsWith("@")?a.slice(1):a;window.open(`https://instagram.com/${l}`,"_blank")}},[]);c.useCallback(()=>{F.current?.scrollIntoView({behavior:"smooth"})},[]);const p=c.useCallback(()=>localStorage.getItem("token")||localStorage.getItem("authToken")||localStorage.getItem("auth_token"),[]),Q=c.useCallback(async a=>{try{const l=p();if(!l)return;await fetch(`/api/messages/${a}/read`,{method:"PATCH",headers:{Authorization:`Bearer ${l}`}}),i(h=>h.map(m=>m.id===a?{...m,unreadCount:0}:m))}catch{}},[p]),Te=c.useCallback(async a=>{if(K||Date.now()-R<2e3)return;const l=k.get(a.id);if(l&&l.length>0){const h={match:a,messages:l,lastMessage:l[l.length-1]};x(h);return}s(!0);try{const h=p();if(!h)return;const m=await fetch(`/api/messages/${a.id}`,{headers:{Authorization:`Bearer ${h}`}});if(m.ok){const y=await m.json();V(j=>new Map(j).set(a.id,y));const M={match:a,messages:y,lastMessage:y[y.length-1]};x(M),U(Date.now()),await Q(a.id)}}catch{}finally{s(!1)}},[K,R,k,p,Q]),Ce=c.useCallback(async()=>{try{!E&&D(!0);const a=p();if(!a)return;const l=await fetch("/api/matches?include_unread=true",{headers:{Authorization:`Bearer ${a}`}});if(l.status===403||l.status===401){localStorage.removeItem("token");return}if(l.ok){const h=await l.json();i(h)}}catch{}finally{D(!1)}},[p,E]),Ie=c.useCallback(a=>{O(a.target.value),!w&&r&&(S(!0),d?.send(JSON.stringify({type:"typing_start",matchId:r.match.id}))),clearTimeout(B.current),B.current=setTimeout(()=>{S(!1),r&&d?.send(JSON.stringify({type:"typing_stop",matchId:r.match.id}))},1e3)},[w,r,d]),le=c.useCallback(async(a="text",l)=>{if(!(!v.trim()&&a==="text"||!r||$)){T(!0);try{const h=p();if(!h){o({title:"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î",description:"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà",variant:"destructive"});return}const m=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify({matchId:r.match.id,content:a==="text"?v:"‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û",messageType:a,imageUrl:l})});if(m.ok){const y=await m.json();x(M=>{if(!M)return null;const j=[...M.messages,y];return{...M,messages:j,lastMessage:y}}),V(M=>{const j=new Map(M),Y=j.get(r.match.id)||[];return j.set(r.match.id,[...Y,y]),j}),O("")}else throw new Error(`Failed to send message: ${m.status}`)}catch{o({title:"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î",description:"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ",variant:"destructive"})}finally{T(!1)}}},[v,r,$,p,o]),Me=async a=>{const l=a.target.files?.[0];if(!(!l||!r)){if(!l.type.startsWith("image/")){o({title:"‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á",description:"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û",variant:"destructive"});return}if(l.size>5*1024*1024){o({title:"‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ",description:"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5MB",variant:"destructive"});return}try{T(!0);const h=p();if(!h)return;const m=new FormData;m.append("image",l);const y=await fetch("/api/upload",{method:"POST",headers:{Authorization:`Bearer ${h}`},body:m});if(y.ok){const{imageUrl:M}=await y.json();await le("image",M)}else throw new Error("Upload failed")}catch{o({title:"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î",description:"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏î‡πâ",variant:"destructive"})}finally{T(!1),q.current&&(q.current.value="")}}},_e=async()=>{if(r){try{const a=p();if(!a)return;(await fetch(`/api/matches/${r.match.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}})).ok&&(i(h=>h.filter(m=>m.id!==r.match.id)),x(null),V(h=>{const m=new Map(h);return m.delete(r.match.id),m}),o({title:"‡∏•‡∏ö‡πÅ‡∏ä‡∏ó‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à",description:"‡πÅ‡∏ä‡∏ó‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡πÅ‡∏•‡πâ‡∏ß"}))}catch{o({title:"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î",description:"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏ö‡πÅ‡∏ä‡∏ó‡πÑ‡∏î‡πâ",variant:"destructive"})}A(!1)}};c.useEffect(()=>{let a,l=0;const h=5,m=()=>{if(!t)return;const y=p();if(!y)return;const M=`wss://${window.location.host}/ws`;try{const j=new WebSocket(M);j.onopen=()=>{l=0,j.send(JSON.stringify({type:"auth",token:y})),l===0&&o({title:"‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à",description:"‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå"})},j.onmessage=Y=>{try{const f=JSON.parse(Y.data);switch(f.type){case"auth_success":break;case"new_message":if(f.message&&(r?.match.id===f.message.matchId&&(x(I=>{if(!I)return null;if(I.messages.some(ge=>ge.id===f.message.id))return I;const Z=[...I.messages,f.message];return{...I,messages:Z,lastMessage:f.message}}),Q(f.message.matchId)),V(I=>{const _=new Map(I),Z=_.get(f.message.matchId)||[];return Z.some(Pe=>Pe.id===f.message.id)||_.set(f.message.matchId,[...Z,f.message]),_}),i(I=>I.map(_=>_.id===f.message.matchId?{..._,lastMessage:f.message,unreadCount:r?.match.id===f.message.matchId?0:(_.unreadCount||0)+1}:_)),r?.match.id!==f.message.matchId)){const I=n.find(_=>_.id===f.message.matchId);I&&o({title:`‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà‡∏à‡∏≤‡∏Å ${I.otherUser.nickname}`,description:f.message.content.length>50?f.message.content.substring(0,50)+"...":f.message.content})}break;case"typing_start":break;case"typing_stop":break;default:}}catch{}},j.onclose=Y=>{if(C(null),t&&!Y.wasClean&&l<h){const f=Math.min(1e3*Math.pow(2,l),3e4);l++,a=setTimeout(()=>{m()},f)}else l>=h&&o({title:"‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢",description:"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤",variant:"destructive"})},j.onerror=Y=>{l===0&&o({title:"‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß",description:"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÑ‡∏î‡πâ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà...",variant:"destructive"})},C(j)}catch{}};return m(),Ce(),()=>{a&&clearTimeout(a),d&&(d.close(1e3,"Component unmounting"),C(null))}},[t,p,o]),c.useEffect(()=>{r&&r.messages.length>0&&setTimeout(()=>{F.current?.scrollIntoView({behavior:"smooth"})},100)},[r?.messages]);const Ee=async a=>{await Te(a),P("chat")},Ae=()=>{P("list"),x(null)};return e.jsx("div",{className:"flex-1 overflow-hidden bg-gradient-to-br from-amber-50 via-white to-amber-100 min-h-screen",children:e.jsxs("div",{className:"flex h-full flex-col overflow-auto",children:[L==="list"&&e.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:e.jsxs("div",{className:"w-full max-w-lg mx-auto mt-8 bg-white/80 backdrop-blur-lg rounded-3xl shadow-2xl border border-amber-100 p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-amber-600 mb-4 text-center drop-shadow",children:"‡πÅ‡∏ä‡∏ó‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì"}),e.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-amber-200 scrollbar-track-transparent",children:E?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"animate-pulse flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-200 shadow-lg"}),e.jsx("div",{className:"text-amber-600 font-semibold",children:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î..."})]})}):n.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 p-6",children:[e.jsx(Ne,{className:"w-14 h-14 mb-2 opacity-50"}),e.jsx("p",{className:"text-lg font-medium",children:"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÅ‡∏ä‡∏ó"}),e.jsx("p",{className:"text-sm",children:"‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÅ‡∏ä‡∏ó‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì"})]}):e.jsx("ul",{className:"divide-y divide-amber-100",children:n.map(a=>e.jsx("li",{className:`
                          transition-all duration-200 cursor-pointer
                          hover:bg-amber-100/60 active:bg-amber-200/80
                          rounded-2xl my-2 shadow-sm
                          ${r?.match.id===a.id?"bg-amber-50 border-l-4 border-amber-400":""}
                        `,onClick:()=>Ee(a),children:e.jsxs("div",{className:"flex items-center gap-4 p-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a.otherUser.profileImage||"",alt:"",className:"w-14 h-14 rounded-full object-cover border-2 border-amber-200 shadow-md"}),a.otherUser.isActive&&e.jsx("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-400 rounded-full border-2 border-white shadow"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:a.otherUser.nickname}),e.jsx("span",{className:"text-xs text-gray-400",children:a.lastMessage?G(a.lastMessage.createdAt):null})]}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:a.lastMessage?.content||"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°"})]}),a.unreadCount?e.jsx("span",{className:"flex items-center justify-center w-6 h-6 bg-amber-500 text-white rounded-full text-xs font-bold shadow",children:a.unreadCount}):null]})},a.id))})})]})}),L==="chat"&&r&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",children:e.jsxs("div",{className:"w-full max-w-2xl mx-auto bg-white/90 rounded-3xl shadow-2xl border border-amber-100 flex flex-col h-[80vh] relative",children:[e.jsxs("div",{className:"p-4 border-b border-amber-100 bg-white/80 rounded-t-3xl flex items-center justify-between shadow",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(N,{variant:"ghost",size:"icon",onClick:Ae,className:"mr-2",children:e.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-amber-500",children:e.jsx("path",{d:"M15 18l-6-6 6-6"})})}),e.jsx("img",{src:r.match.otherUser.profileImage||"",alt:"",className:"w-10 h-10 rounded-full object-cover border-2 border-amber-200 shadow"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:r.match.otherUser.nickname}),w&&e.jsx("p",{className:"text-xs text-amber-600 animate-pulse",children:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå..."})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[r.match.otherUser.instagram&&e.jsx(N,{variant:"ghost",size:"icon",onClick:()=>oe(r.match.otherUser.instagram),children:e.jsx(qe,{className:"w-5 h-5 text-amber-500"})}),e.jsx(N,{variant:"ghost",size:"icon",onClick:()=>A(!0),children:e.jsx(pe,{className:"w-5 h-5 text-red-500"})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto bg-gradient-to-b from-amber-50/60 to-white/80 p-6 space-y-4 rounded-b-3xl",children:[r.messages.map(a=>{const l=a.senderId===t?.id;return e.jsx("div",{className:`flex ${l?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[70%] ${l?"order-2":"order-1"}`,children:a.messageType==="image"?e.jsx("div",{className:"rounded-2xl overflow-hidden shadow-lg border border-amber-100",children:e.jsx("img",{src:a.imageUrl,alt:"Shared",className:"max-w-full h-auto"})}):e.jsxs("div",{className:`
                            px-5 py-3 rounded-2xl shadow-md border
                            ${l?"bg-amber-500/90 text-white border-amber-200 rounded-br-none":"bg-white/90 text-gray-900 border-amber-100 rounded-bl-none"}
                          `,children:[e.jsx("p",{className:"text-base",children:a.content}),e.jsx("span",{className:"text-[11px] opacity-70 mt-1 block text-right",children:G(a.createdAt)})]})})},a.id)}),e.jsx("div",{ref:F})]}),e.jsx("div",{className:"p-4 bg-white/80 border-t border-amber-100 rounded-b-3xl",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"file",ref:q,className:"hidden",accept:"image/*",onChange:Me}),e.jsx(N,{variant:"ghost",size:"icon",onClick:()=>q.current?.click(),disabled:$,children:e.jsx(Ve,{className:"w-6 h-6 text-amber-600"})}),e.jsx("div",{className:"flex-1",children:e.jsx(ue,{value:v,onChange:Ie,onKeyDown:a=>{a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),le())},placeholder:"‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°...",disabled:$,className:"border-amber-200 focus:ring-amber-500 bg-white/80 rounded-xl shadow"})}),e.jsx(N,{onClick:()=>le(),disabled:$||!v.trim(),className:`bg-amber-500 hover:bg-amber-600 text-white shadow-lg rounded-xl ${$?"opacity-50 cursor-not-allowed":""}`,children:e.jsx(Ke,{className:"w-5 h-5"})})]})})]})}),b&&e.jsx("div",{className:"fixed inset-0 z-60 flex items-center justify-center bg-black/40",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-amber-100 flex flex-col items-center",children:[e.jsx(pe,{className:"w-10 h-10 text-red-500 mb-2"}),e.jsx("h4",{className:"text-lg font-bold mb-2",children:"‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÅ‡∏ä‡∏ó"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÅ‡∏ä‡∏ó‡∏ô‡∏µ‡πâ‡∏à‡∏£‡∏¥‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(N,{onClick:_e,className:"bg-red-500 hover:bg-red-600 text-white rounded-lg shadow",children:"‡∏•‡∏ö"}),e.jsx(N,{onClick:()=>A(!1),variant:"outline",className:"rounded-lg",children:"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å"})]})]})})]})})}function It(){const t=()=>{};return e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"text-center py-8 animate-in fade-in duration-500",children:[e.jsx("h2",{className:"text-2xl font-bold text-accent-brown mb-2 animate-bounce-gentle",children:"üé• ‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏Ñ‡∏≠‡∏•"}),e.jsx("p",{className:"text-tea-milk-dark",children:"‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô ome"}),e.jsx("div",{className:"mt-4 inline-block bg-yellow-100 text-yellow-800 px-4 py-2 rounded-xl shadow animate-pulse font-medium text-lg",children:"üöß ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏≠‡∏¢‡∏π‡πà üöß"})]}),e.jsx("div",{className:"space-y-4 opacity-50 pointer-events-none select-none",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-tea-lg p-6 border border-tea-milk-base text-center card-hover animate-in slide-in-from-right duration-500 delay-100",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-tea-milk-medium to-accent-brown rounded-full flex items-center justify-center mx-auto mb-4 animate-float",style:{animationDelay:"1s"},children:e.jsx(Be,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-accent-brown mb-2",children:"‡∏™‡∏∏‡πà‡∏°‡πÇ‡∏ó‡∏£"}),e.jsx("p",{className:"text-sm text-tea-milk-dark mb-4",children:"‡πÄ‡∏≠‡∏≤‡∏Å‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ"}),e.jsx(N,{onClick:t,className:"bg-gradient-to-r from-tea-milk-medium to-tea-milk-dark text-white py-3 px-6 rounded-xl font-medium hover:shadow-tea-lg hover:scale-105 transform transition-all duration-300",disabled:!0,children:"‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏∏‡∏¢"})]})})]})}function gt({user:t}){const[,n]=rt(),i=()=>{z.logout()},r=()=>{n("/settings")},x=()=>{n("/help")};return e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"text-center py-8 animate-in fade-in duration-500",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-accent-pink to-tea-milk-medium rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce-gentle",children:e.jsx("span",{className:"text-white text-3xl font-bold",children:t.nickname[0]?.toUpperCase()})}),e.jsx("h2",{className:"text-2xl font-bold text-accent-brown mb-1 animate-in slide-in-from-bottom duration-500 delay-100",children:t.nickname}),e.jsx("p",{className:"text-tea-milk-dark animate-in slide-in-from-bottom duration-500 delay-200",children:t.age}),t.instagram&&e.jsx("p",{className:"text-sm text-tea-milk-dark animate-in slide-in-from-bottom duration-500 delay-300",children:t.instagram})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:r,className:"w-full bg-white rounded-2xl shadow-tea p-4 border border-tea-milk-base flex items-center justify-between card-hover hover:scale-105 transform transition-all duration-300 animate-in slide-in-from-right duration-500 delay-300",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Fe,{className:"w-5 h-5 text-accent-brown"}),e.jsx("span",{className:"font-medium text-accent-brown",children:"‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤"})]}),e.jsx("span",{className:"text-tea-milk-dark",children:"‚Ä∫"})]}),e.jsxs("button",{onClick:x,className:"w-full bg-white rounded-2xl shadow-tea p-4 border border-tea-milk-base flex items-center justify-between card-hover hover:scale-105 transform transition-all duration-300 animate-in slide-in-from-right duration-500 delay-400",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Qe,{className:"w-5 h-5 text-accent-brown"}),e.jsx("span",{className:"font-medium text-accent-brown",children:"‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠"})]}),e.jsx("span",{className:"text-tea-milk-dark",children:"‚Ä∫"})]}),e.jsxs(N,{onClick:i,className:"w-full bg-red-50 border border-red-200 text-red-600 hover:bg-red-100 rounded-2xl shadow-tea p-4 flex items-center justify-center card-hover hover:scale-105 transform transition-all duration-300 animate-in slide-in-from-bottom duration-500 delay-500",children:[e.jsx(Ye,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"font-medium",children:"‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö"})]})]})]})}var bt=gt;const Mt=Object.freeze(Object.defineProperty({__proto__:null,default:bt},Symbol.toStringTag,{value:"Module"}));export{Ct as C,bt as P,Tt as S,It as V,z as a,ae as b,Mt as c,xe as g,yt as i,Nt as l,X as q,St as r,kt as s,fe as u};
